<!DOCTYPE>
<html>

	<head>
		<meta charset="utf-8">
		<title>IFE JavaScript Task 01</title>
	</head>

	<body>

		<ul id="source">
			<li>北京空气质量：<b>90</b></li>
			<li>上海空气质量：<b>70</b></li>
			<li>天津空气质量：<b>80</b></li>
			<li>广州空气质量：<b>50</b></li>
			<li>深圳空气质量：<b>40</b></li>
			<li>福州空气质量：<b>32</b></li>
			<li>成都空气质量：<b>90</b></li>
		</ul>

		<ul id="resort">
		</ul>

		<button id="sort-btn">排序</button>

		<script type="text/javascript">
			function getData() {
				var data = [];
				var getSourse = document.getElementById("source").children;
				for(var index = 0; index < getSourse.length; index++) {

					data[index] = [getSourse[index].textContent.substr(0, 2), getSourse[index].textContent.substr(7, 9)];

				}

				return data;
			}

			function sortAqiData(data) {
				var temp = "";
				for(var i = 0; i < ((data.length) * (data.length - 1)) / 2; i++) {
					for(var j in data) {
						if(j - 1 > -1) {
							if(data[j - 1][1] > data[j][1]) {
								temp = data[j];
								data[j] = data[j - 1];
								data[j - 1] = temp;

							}

						}
					}

				}
				return data;

			}

		
			function render(data) {
				 var getDesort=document.getElementById("resort");
				var k=1;
				var str="";
				for(var index in data) {

						str+="<li>"+"第"+k+"名:"+data[index][0]+"空气质量:"+"<b>"+data[index][1]+"</b>"+"</li>";
						k++;
				}
				getDesort.innerHTML=str;
			}

			function btnHandle() {
				var aqiData = getData();
				aqiData = sortAqiData(aqiData);
				render(aqiData);

			}

			function init() {
				var getBtn = document.getElementById("sort-btn");
				getBtn.onclick = btnHandle;

			}

			init();
		</script>
	</body>

</html>